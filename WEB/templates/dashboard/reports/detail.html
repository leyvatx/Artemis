{% extends 'main.html' %}{% load static %}

{% block stylesheet %}
<link href='{% static "css/dashboard/form.css" %}' rel='stylesheet' />
<link href='{% static "css/dashboard/detail.css" %}' rel='stylesheet' />
{% endblock stylesheet %}

{% block title %}{{ titleSection }}{% endblock title %}

{% block content %}
<div class='dashboard-containe'>

    <section class='crud-detail'>

        <header class='report-header'>
            <div class='report-branding'>
                <img src="{% static 'images/mainicon.webp' %}" alt='Artemis' class='report-logo' />

                <div class='report-meta'>
                    <h2>Artemis</h2>
                    <span>Panel de administración de reportes</span>
                </div>
            </div>

            <div class='report-title'>
                <h2>Reporte: {{ report.title }}</h2>
                <span>Creado el {{ report.created_at|date:"d/m/Y H:i" }}</span>
            </div>
        </header>

        <div class='report-status'>
            <strong>Estado</strong>
            <span class="
                {% if report.status == 'Borrador' %}status-draft
                {% elif report.status == 'Archivado' %}status-archived
                {% elif report.status == 'Generado' %}status-generated
                {% endif %}
            ">{{ report.status }}</span>
        </div>

        <div class='detail-grid'>
            <div class='detail-item'>
                <strong>Título</strong>
                <span>{{ report.title }}</span>
            </div>

            <div class='detail-item'>
                <strong>Tipo</strong>
                <span>{{ report.report_type }}</span>
            </div>

            <div class='detail-item'>
                <strong>Supervisor</strong>
                <span>{{ report.supervisor_summary.name }} ({{ report.supervisor_summary.email }})</span>
            </div>

            <div class='detail-item'>
                <strong>Oficial</strong>
                <span>{{ report.officer_summary.name }} ({{ report.officer_summary.badge_number }})</span>
            </div>
        </div>

        <div class='detail-text'>
            <strong>Resumen</strong>
            <p>{{ report.summary|default:"Sin resumen" }}</p>
        </div>

        <div class='detail-text'>
            <strong>Contenido</strong>
            <p>{{ report.content }}</p>
        </div>

        <div class='detail-date'>
            <strong>Última actualización</strong>
            <span>{{ report.updated_at|date:"d/m/Y H:i" }}</span>
        </div>

        <div class='detail-actions'>
            <a href="{% url 'dashboard:ReportsUpdate' report.report_id %}" class='action-edit'>
                <span class="material-symbols-outlined">edit</span>
                <strong>Editar</strong>
            </a>
            <a href="{% url 'dashboard:ReportsDownload' report.report_id %}" class='action-download'>
                <span class='material-symbols-outlined'>print</span>
                <strong>Descargar</strong>
            </a>
        </div>
    </section>

</div>
{% endblock content %}